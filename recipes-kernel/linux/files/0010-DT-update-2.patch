From 104111a13cfd0405a5efe1eb157a28b3a9d1f045 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Mikko=20Salom=C3=A4ki?= <ms@datarespons.se>
Date: Fri, 17 May 2019 13:01:10 +0200
Subject: [PATCH] DT-update-2

---
 arch/arm/boot/dts/datarespons-vdt6010-revA.dts | 71 +++++++++++---------------
 1 file changed, 29 insertions(+), 42 deletions(-)

diff --git a/arch/arm/boot/dts/datarespons-vdt6010-revA.dts b/arch/arm/boot/dts/datarespons-vdt6010-revA.dts
index fa6df736bc25..fead8f3669f9 100644
--- a/arch/arm/boot/dts/datarespons-vdt6010-revA.dts
+++ b/arch/arm/boot/dts/datarespons-vdt6010-revA.dts
@@ -16,17 +16,9 @@
 #include <dt-bindings/input/input.h>
 #include "imx6q.dtsi"
 
-
-//FIXME: GPIOS
 // PCIE_RST_B
-
 // MMC_RST# -> emmc
 // MCU_NRST
-// Touch_Rest
-// RMII_nRST
-// LANA_ETHER_SPEED_LED
-// LANA_ETHER_LINK_ACT_LEDn
-
 // HDMI_SCL - HDMI_SDA - HDMI_DDC_CEC - HDMI_HPD
 
 / {
@@ -99,13 +91,10 @@
 	backlight {
 		compatible = "pwm-backlight";
 		pwms = <&pwm1 0 1000000>;
-        brightness-levels = < 0 1 2 3 4 5 6 8  11 16  23  32 48
-                              64 81 100 121 144 169 196 225
-                              256 289 324 361 400 441 484 529
-                              576 625 676 729 784 841 900 961
-                              1024 1089 1156 1225 1296 1369 1444 1521
-                              1600 1681 1764 1849 1936 2025 2116 2209 >;
-		default-brightness-level = <2209>;
+        brightness-levels = <	0 1 2 3 4 5 6 7 8 9 10 15 20 25 
+        						30 40 50 60 70 80 90 100 120 150
+        					>;
+		default-brightness-level = <23>;
 		enable-gpios = <&gpio7 12 GPIO_ACTIVE_HIGH>;
 		power-supply = <&reg_lcd_backlight>;
 		status = "okay";
@@ -224,7 +213,7 @@
 		disp_dev = "hdmi";
 		interface_pix_fmt = "RGB24";
 		mode_str ="1920x1080M@60";
-		default_bpp = <32>;
+		default_bpp = <24>;
 		int_clk = <0>;
 		late_init = <0>;
 		status = "disabled";
@@ -259,7 +248,7 @@
 	flash: w25q32@0 {
 		#address-cells = <1>;
 		#size-cells = <1>;
-		compatible = "winbond,w25x40", "jedec,spi-nor";
+		compatible = "winbond,w25q32", "jedec,spi-nor";
 		spi-max-frequency = <20000000>;
 		reg = <0>;
 		
@@ -412,18 +401,11 @@
     };
 
 	ili2511_touch: touch@41 {
-		compatible = "tchip,ilitek";
+		compatible = "ilitek,ili251x";
 		reg = <0x41>;
-		/*interrupt-parent = <&gpio5>;
+		interrupt-parent = <&gpio5>;
 		interrupts = <11 IRQ_TYPE_EDGE_FALLING>;
-		reset-gpios = <&gpio5 12 GPIO_ACTIVE_HIGH>;
-		vdd-supply = <&gpio5>;
-		vcc_i2c-supply = <&gpio5>;*/
-		ilitek,irq-gpio = <&gpio5 11 IRQ_TYPE_EDGE_FALLING>;
-		ilitek,reset-gpio = <&gpio5 12 GPIO_ACTIVE_HIGH>;
-		/*ilitek,vbus = "vcc_i2c";
-		ilitek,vdd = "vdd";*/
-		ilitek,name = "ilitek_i2c";
+		reset-gpios = <&gpio5 12 GPIO_ACTIVE_LOW>;
 	};
 };
 
@@ -472,22 +454,22 @@
 	pinctrl-names = "default";
     pinctrl-0 = <&pinctrl_enet>;
     phy-mode = "rmii";
-    /* phy-reset-gpios = <&gpio6 14 GPIO_ACTIVE_LOW>; ALREADY RESET BY BOOTLOADER */
-    /*phy-handle = <&lan8710>;*/
+    phy-reset-gpios = <&gpio6 14 GPIO_ACTIVE_HIGH>;
+    phy-handle = <&lan8710>;
 	status = "okay";
-	/*
+	
 	mdio {
 		#address-cells = <1>;
 		#size-cells = <0>;
 		
 		lan8710: ethernet-phy@0 {
-			compatible = "ethernet-phy-ieee802.3-c22";
+			compatible = "ethernet-phy-ieee802.3-c22";
 			reg = <0>;
 			max-speed = <100>;
 			interrupt-parent = <&gpio1>;
 			interrupts = <9 IRQ_TYPE_EDGE_FALLING>;
 		};
-	};*/
+	};
 };
 
 /* use for RS232,RS422,RS485 */
@@ -548,6 +530,18 @@
 	status = "disabled";
 };
 
+&snvs_poweroff {
+	status = "okay";
+};
+
+&can1 {
+	status = "disabled";
+};
+
+&can2 {
+	status = "disabled";
+};
+
 &iomuxc {
     pinctrl-names = "default";
     pinctrl-0 = <&pinctrl_hog_1>;
@@ -730,26 +724,19 @@
 	};
 };
 
-&snvs_poweroff {
-	status = "okay";
-};
-
 &ldb {
 	status = "okay";
 	
-	lvds-channel@1 {
-		fsl,data-mapping = "spwg";
-		fsl,data-width = <24>;
-		crtc = "ipu1-di1";
+	lvds-channel@0 {
+		crtc = "ipu1-di0";
 		status = "disabled";
 	};
 
-	lvds-channel@0 {
+	lvds-channel@1 {
 		fsl,data-mapping = "spwg";
 		fsl,data-width = <24>;
 		primary;
 		crtc = "ipu1-di0";
-		fsl,data-width = <18>;
 		status = "okay";
 		
 		display-timings {
